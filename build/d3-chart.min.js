!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(){function t(t){return f=j-M.left-M.right,d=L-M.top-M.bottom,t.each(function(){var t=d3.select(this).selectAll("svg").data(["chart.js"]),o=t.enter().append("svg"),a=o.append("g");a.append("g").attr("class","x axis"),a.append("g").attr("class","y axis"),a.append("g").attr("class","x axis minor"),a.append("g").attr("class","y axis minor"),t=o.merge(t).attr("width",j).attr("height",L),a=t.select("g").attr("transform","translate("+M.left+","+M.top+")"),r(),e(a),u(a,"areagroup",I),u(a,"linegroup",B),u(a,"scattergroup",C),n(a)}),t.selectAll("svg > g")}function e(t){if(p&&(p.scale(h),t.select(".x.axis").attr("transform","translate(0,"+o(g)+")").style("shape-rendering","crispEdges").call(p)),x&&(x.scale(v),t.select(".y.axis").attr("transform","translate("+a(_)+",0)").style("shape-rendering","crispEdges").call(x)),m&&"boolean"==typeof m&&(m="2,2"),b&&"boolean"==typeof b&&(b="2,2"),m){var e=t.select(".x.axis.minor").attr("transform","translate(0,"+v.range()[0]+")").style("shape-rendering","crispEdges").call(d3.axisBottom(h).tickSizeInner(-d));e.selectAll("text").style("display","none"),e.selectAll(".domain").style("display","none"),e.selectAll("line").style("stroke","#777").style("stroke-opacity",.35).style("stroke-dasharray",m)}if(b){var n=t.select(".y.axis.minor").style("shape-rendering","crispEdges").call(d3.axisLeft(v).tickSizeInner(-f));n.selectAll("text").style("display","none"),n.selectAll(".domain").style("display","none"),n.selectAll("line").style("stroke","#777").style("stroke-opacity",.35).style("stroke-dasharray",b)}if(y){var r=t.selectAll(".x.label").data([y]);r.enter().append("text").attr("class","x label").merge(r).style("font","10px sans-serif").style("text-anchor","end").attr("x",f).attr("y",o(g)-6).text(y)}if(A){var i=t.selectAll(".y.label").data([A]);i.enter().append("text").attr("class","y label").merge(i).style("font","10px sans-serif").style("text-anchor","end").attr("y",a(_)+14).attr("transform","rotate(-90)").text(A)}}function n(t){var e=t.selectAll("#m"+P).data(["mousearea"]);e.exit().remove(),e=e.enter().append("rect").attr("id","m"+P).merge(e).attr("width",f).attr("height",d).attr("stroke","none").attr("fill","none").attr("pointer-events","all");var n=[].concat(I,B,C);e.on("mouseover touchstart",function(){n.forEach(function(t){t.hover()&&t.mouse_in()}),"function"==typeof w&&w(P)}),e.on("mousemove touchmove",function(){var t=d3.mouse(this),e=h.invert(t[0]);n.forEach(function(t){t.hover()&&t.mouse_move(e)}),"function"==typeof O&&O(P,e)}),e.on("mouseout touchend touchcancel",function(){n.forEach(function(t){t.hover()&&t.mouse_out()}),"function"==typeof F&&F(P)})}function r(){h=h||d3.scaleLinear(),v=v||d3.scaleLinear(),h.range([0,f]),v.range([d,0]);var t=[].concat(I,B,C);if(k)h.domain(k);else{var e=d3.min(t,function(t){return d3.min(t.data(),S)}),n=d3.max(t,function(t){return d3.max(t.data(),S)});h.domain([e,n])}if(E)v.domain(E);else{var r=d3.min(t,function(t){return d3.min(t.data(),z)}),o=d3.max(t,function(t){return d3.max(t.data(),z)});v.domain([r,o])}}function o(t){if("top"===t)return v.range()[1];if("string"==typeof t){if("%"===t.slice(-1)){var e=parseFloat(t)/100;return d3.interpolateNumber(v.range()[0],v.range()[1])(e)}if("px"===t.slice(-2))return parseFloat(t)}return v(t)?v(t):v.range()[0]}function a(t){if("right"===t)return h.range()[1];if("string"==typeof t){if("%"===t.slice(-1)){var e=parseFloat(t)/100;return d3.interpolateNumber(h.range()[0],h.range()[1])(e)}if("px"===t.slice(-2))return parseFloat(t)}return h(t)?h(t):h.range()[0]}function i(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"a"+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function l(){return D>=G.length&&(D=0),G[D++]}function u(t,e,n){var r=t.selectAll("g").filter("."+e).data(n,function(t){return t.id()});r.exit().remove(),r.enter().append("g").attr("class",e).merge(r).each(function(t){t(d3.select(this))})}function s(t){return h(S(t))}function c(t){return v(z(t))}var f,d,h,p,g,m,y,v,x,_,b,A,k,E,w,O,F,P=i(),j=760,L=500,M={top:20,right:20,bottom:20,left:30},S=function(t){return t[0]},z=function(t){return t[1]},I=[],N=d3.area().x(s).y1(c),B=[],q=d3.line().x(s).y(c),C=[],D=0,G=["#377eb8","#e41a1c","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"];return t.area=function(t){function e(t){t.attr("id",r),N.y0(d),n=t.selectAll("path").data(function(t){return[t]}),u=t.selectAll(".hoverline").data(["hoverline"]),n=n.enter().append("path").attr("class","area").merge(n),u=u.enter().append("line").attr("class","hoverline").style("display","none").merge(u),n.attr("d",function(t){return N(t.data())}),a.each(function(t,e){n.attr(e,t)}),u.style("stroke",d3.color(a.get("fill")).darker()).style("shape-rendering","crispEdges")}var n,r=t||i(),o=[],a=d3.map();a.set("fill",l());var u,f=!1,h=d3.bisector(function(t){return S(t)}).left;return e.attr=function(t){return 1===arguments.length?a.get(t):2===arguments.length?(a.set(arguments[0],arguments[1]),e):void 0},e.data=function(t){return arguments.length?(o=t,e):o},e.hover=function(t){return arguments.length?(f=t,e):f},e.id=function(t){return r},e.mouse_in=function(){u.style("display",null)},e.mouse_move=function(t){var e=h(o,t),n=o[e-1],a=o[e],i=n&&a?t-S(n)>S(a)-t?a:n:n?n:a;i&&u.attr("x1",s(i)).attr("x2",s(i)).attr("y1",v.range()[0]).attr("y2",c(i)),"function"==typeof f&&f({id:r,x:S(i),y:z(i)})},e.mouse_out=function(){u.style("display","none")},e.remove=function(){var t=I.indexOf(e);t!=-1&&I.splice(t,1)},I.push(e),e},t.line=function(t){function e(t){t.attr("id",r),n=t.selectAll("path").data(function(t){return[t]}),u=t.selectAll(".hoverdot").data(["hoverdot"]),n=n.enter().append("path").attr("class","line").merge(n),u=u.enter().append("circle").attr("class","hoverdot").style("display","none").merge(u),n.attr("fill","none").attr("d",function(t){return q(t.data())}),a.each(function(t,e){n.attr(e,t)}),u.attr("r",3).attr("fill",a.get("stroke"))}var n,r=t||i(),o=[],a=d3.map();a.set("stroke",l()),a.set("stroke-width",1);var u,f=!1,d=d3.bisector(function(t){return S(t)}).left;return e.attr=function(t){return 1===arguments.length?a.get(t):2===arguments.length?(a.set(arguments[0],arguments[1]),e):void 0},e.data=function(t){return arguments.length?(o=t,e):o},e.hover=function(t){return arguments.length?(f=t,e):f},e.id=function(){return r},e.mouse_in=function(){u.style("display",null)},e.mouse_move=function(t){var e=d(o,t),n=o[e-1],a=o[e],i=n&&a?t-S(n)>S(a)-t?a:n:n?n:a;i&&u.attr("cx",s(i)).attr("cy",c(i)),"function"==typeof f&&f({id:r,x:S(i),y:z(i)})},e.mouse_out=function(){u.style("display","none")},e.remove=function(){var t=B.indexOf(e);t!=-1&&B.splice(t,1)},B.push(e),e},t.scatter=function(t){function e(t){t.attr("id",r),n=t.selectAll(".dot").data(function(t){return t.data()}),u=t.selectAll(".hoverdot").data(["hoverdot"]),n=n.enter().append("circle").attr("class","dot").merge(n),u=u.enter().append("circle").attr("class","hoverdot").style("display","none").merge(u),n.attr("cx",function(t){return s(t)}).attr("cy",function(t){return c(t)}),a.each(function(t,e){n.attr(e,t)}),u.attr("fill",a.get("fill"))}var n,r=t||i(),o=[],a=d3.map();a.set("fill",l()),a.set("r",1);var u,f=!1,d=d3.bisector(function(t){return S(t)}).left;return e.attr=function(t){return 1===arguments.length?a.get(t):2===arguments.length?(a.set(arguments[0],arguments[1]),e):void 0},e.data=function(t){return arguments.length?(o=t,e):o},e.hover=function(t){return arguments.length?(f=t,e):f},e.id=function(){return r},e.mouse_in=function(){u.style("display",null)},e.mouse_move=function(t){var e=d(o,t),n=o[e-1],i=o[e],l=n&&i?t-S(n)>S(i)-t?i:n:n?n:i;if(l){u.attr("cx",s(l)).attr("cy",c(l));var h=a.get("r");"function"==typeof h?h=h(l)+2:h+=2,u.attr("r",h)}"function"==typeof f&&f({id:r,x:S(l),y:z(l)})},e.mouse_out=function(){u.style("display","none")},e.remove=function(){var t=C.indexOf(e);t!=-1&&C.splice(t,1)},C.push(e),e},t.domain=function(e){return arguments.length?(k=e,t):k},t.each=function(t){"function"==typeof t&&(I.forEach(t),B.forEach(t),C.forEach(t))},t.height=function(e){return arguments.length?(L=e,t):L},t.hover=function(e){return arguments.length?(O=e,t):O},t.id=function(){return P},t.margin=function(e){return arguments.length?(M.top=0===e.top?0:e.top||M.top,M.right=0===e.right?0:e.right||M.right,M.bottom=0===e.bottom?0:e.bottom||M.bottom,M.left=0===e.left?0:e.left||M.left,t):M},t.mouse_in=function(e){return arguments.length?(w=e,t):w},t.mouse_out=function(e){return arguments.length?(F=e,t):F},t.range=function(e){return arguments.length?(E=e,t):E},t.width=function(e){return arguments.length?(j=e,t):j},t.x=function(e){return arguments.length?(S=e,t):S},t.x_axis=function(e){return arguments.length?(p=e,t):p},t.x_grid=function(e){return arguments.length?(m=e,t):m},t.x_label=function(e){return arguments.length?(y=e,t):y},t.x_location=function(e){return arguments.length?(g=e,t):g},t.x_scale=function(e){return arguments.length?(h=e,t):h},t.y=function(e){return arguments.length?(z=e,t):z},t.y_axis=function(e){return arguments.length?(x=e,t):x},t.y_grid=function(e){return arguments.length?(b=e,t):b},t.y_label=function(e){return arguments.length?(A=e,t):A},t.y_location=function(e){return arguments.length?(_=e,t):_},t.y_scale=function(e){return arguments.length?(v=e,t):v},t}e.linker=function(){function t(){}var e={};return t.link=function(n){return e[n.id()]=n,n.hover(t.hover).mouse_out(t.mouse_out).mouse_in(t.mouse_over),t},t.unlink=function(n){return delete e[n.id()],n.hover(null).mouse_out(null).mouse_in(null),t},t.hover=function(t,n){for(var r in e)r!==t&&e.hasOwnProperty(r)&&e[r].each(function(t){t.hover()&&t.mouse_move(n)})},t.mouse_out=function(t){for(var n in e)n!==t&&e.hasOwnProperty(n)&&e[n].each(function(t){t.hover()&&t.mouse_out()})},t.mouse_over=function(t){for(var n in e)n!=t&&e.hasOwnProperty(n)&&e[n].each(function(t){t.hover()&&t.mouse_in()})},t},t.chart=e,Object.defineProperty(t,"__esModule",{value:!0})});