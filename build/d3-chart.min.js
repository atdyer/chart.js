!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(){function t(t){return g=N-P.left-P.right,p=C-P.top-P.bottom,t.each(function(){var t=d3.select(this).selectAll("svg").data(["d3-chart"]),i=t.enter().append("svg");I=i.append("g"),I.append("g").attr("class","x axis"),I.append("g").attr("class","y axis"),I.append("g").attr("class","x axis minor"),I.append("g").attr("class","y axis minor"),t=i.merge(t).attr("width",N).attr("height",C),I=t.select("g").attr("id",j).attr("transform","translate("+P.left+","+P.top+")"),o(),e(I),h(I,"areagroup",G),h(I,"linegroup",J),h(I,"scattergroup",K),n(I),h(I,"bargroup",H),r(I),d(I)}),t.selectAll("svg > g")}function e(t){if(m&&(m.scale(v),t.select(".x.axis").attr("transform","translate(0,"+i(y)+")").style("shape-rendering","crispEdges").call(m)),A&&(A.scale(b),t.select(".y.axis").attr("transform","translate("+a(k)+",0)").style("shape-rendering","crispEdges").call(A)),x&&"boolean"==typeof x&&(x="2,2"),w&&"boolean"==typeof w&&(w="2,2"),x){var e=t.select(".x.axis.minor").attr("transform","translate(0,"+b.range()[0]+")").style("shape-rendering","crispEdges").call(d3.axisBottom(v).tickSizeInner(-p));e.selectAll("text").style("display","none"),e.selectAll(".domain").style("display","none"),e.selectAll("line").style("stroke","#777").style("stroke-opacity",.35).style("stroke-dasharray",x)}if(w){var n=t.select(".y.axis.minor").style("shape-rendering","crispEdges").call(d3.axisLeft(b).tickSizeInner(-g));n.selectAll("text").style("display","none"),n.selectAll(".domain").style("display","none"),n.selectAll("line").style("stroke","#777").style("stroke-opacity",.35).style("stroke-dasharray",w)}}function n(e){var n=e.selectAll("#m"+j).data(["mousearea"]);n.exit().remove(),n=n.enter().append("rect").attr("id","m"+j).merge(n).attr("width",g).attr("height",p).attr("stroke","none").attr("fill","none").attr("pointer-events","all"),n.on("mouseover touchstart",t.mouse_in),n.on("mousemove touchmove",t.mouse_move),n.on("mouseout touchend touchcancel",t.mouse_out)}function r(t){if(_){var e=t.selectAll(".x.label").data([_]);e.enter().append("text").attr("class","x label").merge(e).style("font","10px sans-serif").style("text-anchor","end").attr("x",g-6).attr("y",i(y)-6).text(_)}if(E){var n=t.selectAll(".y.label").data([E]);n.enter().append("text").attr("class","y label").merge(n).style("font","10px sans-serif").style("text-anchor","end").attr("x",-6).attr("y",a(k)+14).attr("transform","rotate(-90)").text(E)}}function o(){v=v||d3.scaleLinear(),b=b||d3.scaleLinear(),v.range([0,g]),b.range([p,0]);var t=[].concat(G,H,J,K);if(O)v.domain(O);else{var e=d3.min(t,function(t){return d3.min(t.data(),t.x())}),n=d3.max(t,function(t){return d3.max(t.data(),t.x())});v.domain([e,n])}if(F)b.domain(F);else{var r=d3.min(t,function(t){return d3.min(t.data(),t.y?t.y():function(e){return d3.min([t.y0()(e),t.y1()(e)])})}),o=d3.max(t,function(t){return d3.max(t.data(),t.y?t.y():function(e){return d3.max([t.y0()(e),t.y1()(e)])})});b.domain([r,o])}}function i(t){if("top"===t)return b.range()[1];if("string"==typeof t){if("%"===t.slice(-1)){var e=parseFloat(t)/100;return d3.interpolateNumber(b.range()[0],b.range()[1])(e)}if("px"===t.slice(-2))return parseFloat(t)}return b(t)?b(t):b.range()[0]}function a(t){if("right"===t)return v.range()[1];if("string"==typeof t){if("%"===t.slice(-1)){var e=parseFloat(t)/100;return d3.interpolateNumber(v.range()[0],v.range()[1])(e)}if("px"===t.slice(-2))return parseFloat(t)}return v(t)?v(t):v.range()[0]}function u(t){return function(){return t}}function l(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"a"+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function c(t){if(v.invert){var e=d3.mouse(this),n=v.invert(e[0]),r=e[1];t.forEach(function(t){if(t.hover_in()||t.hover()||t.hover_out()){var e=t.x_extent(),o=n>=e[0]&&n<=e[1],i=r>=0&&r<=p,a=o&&i,u=M>=e[0]&&M<=e[1],l=S>=0&&S<=p,c=u&&l;a?(c||t.mouse_in(),t.mouse_move(n)):c&&t.mouse_out()}}),M=n,S=r}}function f(t,e,n){var r=t.data();if(t.x()(r[0])<=n&&n<=t.x()(r[r.length-1])){var o,i=e(r,n),a=r[i-1],u=r[i];a&&u?n-t.x()(a)>t.x()(u)-n?o=u:(o=a,i-=1):a?(o=a,i-=1):o=u}return o?i:-1}function s(){return R>=T.length&&(R=0),T[R++]}function h(t,e,n){var r=t.selectAll("g").filter("."+e).data(n,function(t){return t.id()});r.exit().remove(),r.enter().append("g").attr("class",e).merge(r).each(function(t){t(d3.select(this))})}function d(t){Q.forEach(function(e){var n=e.container(),r=!!n;n?(n=n.selectAll("svg").filter("#cl"+e.id()).data([e]),n=n.enter().append("svg").attr("id","cl"+e.id()).merge(n)):n=t,h(n,"legendgroup",[e]),r&&n.call(function(t){var e=t.node().getBBox();t.attr("width",e.width).attr("height",e.height),t.selectAll(".legendgroup").attr("transform","translate("+-e.x+","+-e.y+")")})}),t.selectAll(".legendgroup").each(function(){this.parentElement.appendChild(this)})}var g,p,v,m,y,x,_,b,A,k,w,E,O,F,I,z,B,L,M,S,j=l(),N=760,C=500,P={top:20,right:20,bottom:20,left:30},q=function(t){return t[0]},D=function(t){return t[1]},G=[],H=[],J=[],K=[],Q=[],R=0,T=["#377eb8","#e41a1c","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"];return t.area=function(t){function e(t){o=e.x(),i=e.y0(),a=e.y1();var u=d3.area().x(function(t){return v(o(t))}).y0(function(t){return b(i(t))}).y1(function(t){return b(a(t))});t.attr("id",d),n=t.selectAll("path").data(function(t){return[t]}),_=t.selectAll(".hoverline").data(["hoverline"]),n=n.enter().append("path").attr("class","area").merge(n),_=_.enter().append("line").attr("class","hoverline").attr("shape-rendering","crispEdges").style("display","none").merge(_),r&&u.curve(r),n.attr("d",function(t){return u(t.data())}),p.each(function(t,e){n.attr(e,t)}),A.each(function(t,e){n.style(e,t)})}var n,r,o,i,a,c,h,d=t||l(),g=[],p=d3.map();p.set("fill",s());var m,y,x,_,A=d3.map(),k=d3.bisector(function(t){return e.x()(t)}).right;return e.attr=function(t){return 1===arguments.length?p.get(t):(2===arguments.length&&p.set(arguments[0],arguments[1]),e)},e.curve=function(t){return arguments.length?(r=t,e):r},e.data=function(t){return arguments.length?(g=t,c=null,h=null,e):g},e.hover=function(t){return arguments.length?(y=t,e):y},e.hover_in=function(t){return arguments.length?(m=t,e):m},e.hover_out=function(t){return arguments.length?(x=t,e):x},e.id=function(t){return d},e.mouse_in=function(){_.style("display",null).attr("stroke",d3.color(p.get("fill")).darker()),"function"==typeof m&&m.call(_.node(),n.nodes())},e.mouse_move=function(t){var r=f(e,k,t),o=g[r];o?(_.attr("x1",v(e.x()(o))).attr("x2",v(e.x()(o))).attr("y1",b(e.y0()(o))).attr("y2",b(e.y1()(o))),"function"==typeof y&&y.call(_.node(),o,0,n.nodes())):e.mouse_out()},e.mouse_out=function(){_.style("display","none"),"function"==typeof x&&x.call(_.node(),n.nodes())},e.remove=function(){var t=G.indexOf(e);t!=-1&&G.splice(t,1)},e.style=function(t){return 1===arguments.length?A.get(t):(2===arguments.length&&A.set(arguments[0],arguments[1]),e)},e.x=function(t){return arguments.length?(o=t,e):o||q},e.x_extent=function(){return c||(c=d3.extent(g,e.x())),c},e.y0=function(t){return arguments.length?(i="function"==typeof t?t:u(+t),e):i||u(d3.min(e.data(),e.y1()))},e.y1=function(t){return arguments.length?(a="function"==typeof t?t:u(+t),e):a||D},e.y_extent=function(){if(!h){var t=d3.extent(g,e.y0()),n=d3.extent(g,e.y1());h=[d3.min([t[0],t[1]]),d3.max([t[1],n[1]])]}return h},G.push(e),e},t.bar=function(t){function e(t){r=e.x(),o=e.y(),t.attr("id",c),n=t.selectAll(".bar").data(f),n=n.enter().append("rect").attr("class","bar").merge(n),n.on("mouseover touchstart",function(t,n,r){(e.hover_in()||e.hover()||e.hover_out())&&e.mouse_in.call(this,t,n,r)}),n.on("mousemove touchmove",function(t,n,r){(e.hover_in()||e.hover()||e.hover_out())&&e.mouse_move.call(this,t,n,r)}),n.on("mouseout touchend touchcancel",function(t,n,r){(e.hover_in()||e.hover()||e.hover_out())&&e.mouse_out.call(this,t,n,r)}),n.attr("x",function(t){return v(r(t))}).attr("y",function(t){return b(o(t))}).attr("width",v.bandwidth()).attr("height",function(t){return p-b(o(t))}),h.each(function(t,e){n.attr(e,t)}),d.each(function(t,e){n.style(e,t)})}var n,r,o,i,a,u,c=t||l(),f=[],h=d3.map();h.set("fill",s()),h.set("pointer-events","all");var d=d3.map();return d.set("shape-rendering","crispEdges"),e.attr=function(t){return 1===arguments.length?h.get(t):(2===arguments.length&&h.set(arguments[0],arguments[1]),e)},e.data=function(t){return arguments.length?(f=t,e):f},e.hover=function(t){return arguments.length?(i=t,e):i},e.hover_in=function(t){return arguments.length?(a=t,e):a},e.hover_out=function(t){return arguments.length?(u=t,e):u},e.id=function(){return c},e.mouse_in=function(t,e,n){var r=d3.select(n[e]);r.attr("fill",d3.color(h.get("fill")).darker()),"function"==typeof a&&a.call(this,t,e,n)},e.mouse_move=function(t,e,n){"function"==typeof i&&i.call(this,t,e,n)},e.mouse_out=function(t,e,n){var r=d3.select(n[e]);r.attr("fill",h.get("fill")),"function"==typeof u&&u.call(this,t,e,n)},e.style=function(t){return 1===arguments.length?d.get(t):(2===arguments.length&&d.set(arguments[0],arguments[1]),e)},e.x=function(t){return arguments.length?(r=t,e):r||q},e.y=function(t){return arguments.length?(o=t,e):o||D},H.push(e),e},t.line=function(t){function e(t){o=e.x(),a=e.y();var i=d3.line().x(function(t){return v(o(t))}).y(function(t){return b(a(t))});t.attr("id",c),n=t.selectAll("path").data(function(t){return[t]}),g=t.selectAll(".hoverdot").data(["hoverdot"]),n=n.enter().append("path").attr("class","line").merge(n),g=g.enter().append("circle").attr("class","hoverdot").attr("pointer-events","none").style("display","none").merge(g),r&&i.curve(r),n.attr("fill","none").attr("d",function(t){return i(t.data())}),d.each(function(t,e){n.attr(e,t)})}var n,r,o,i,a,u,c=t||l(),h=[],d=d3.map();d.set("stroke",s()),d.set("stroke-width",1);var g,p,m,y,x=d3.bisector(function(t){return e.x()(t)}).right;return e.attr=function(t){return 1===arguments.length?d.get(t):(2===arguments.length&&d.set(arguments[0],arguments[1]),e)},e.curve=function(t){return arguments.length?(r=t,e):r},e.data=function(t){return arguments.length?(h=t,i=null,u=null,e):h},e.hover=function(t){return arguments.length?(m=t,e):m},e.hover_in=function(t){return arguments.length?(p=t,e):p},e.hover_out=function(t){return arguments.length?(y=t,e):y},e.id=function(){return c},e.mouse_in=function(){g.style("display",null).attr("r",3).attr("fill",d.get("stroke")),"function"==typeof p&&p.call(g.node(),n.nodes())},e.mouse_move=function(t){var r=f(e,x,t),o=h[r];o?(g.attr("cx",v(e.x()(o))).attr("cy",b(e.y()(o))),"function"==typeof m&&m.call(g.node(),o,0,n.nodes())):e.mouse_out()},e.mouse_out=function(){g.style("display","none"),"function"==typeof y&&y.call(g.node(),n.nodes())},e.remove=function(){var t=J.indexOf(e);t!=-1&&J.splice(t,1)},e.x=function(t){return arguments.length?(o=t,e):o||q},e.x_extent=function(){return i||(i=d3.extent(h,e.x())),i},e.y=function(t){return arguments.length?(a=t,e):a||D},e.y_extent=function(){return u||(u=d3.extent(h,e.y())),u},J.push(e),e},t.scatter=function(t){function e(t){r=e.x(),i=e.y(),t.attr("id",u),n=t.selectAll(".dot").data(function(t){return t.data()}),d=t.selectAll(".hoverdot").data(["hoverdot"]),n=n.enter().append("circle").attr("class","dot").merge(n),d=d.enter().append("circle").attr("class","hoverdot").style("display","none").merge(d),n.attr("cx",function(t){return v(r(t))}).attr("cy",function(t){return b(i(t))}),h.each(function(t,e){n.attr(e,t)})}var n,r,o,i,a,u=t||l(),c=[],h=d3.map();h.set("fill",s()),h.set("r",1);var d,g,p,m,y=d3.bisector(function(t){return e.x()(t)}).right;return e.attr=function(t){return 1===arguments.length?h.get(t):(2===arguments.length&&h.set(arguments[0],arguments[1]),e)},e.data=function(t){return arguments.length?(c=t,o=null,a=null,e):c},e.hover=function(t){return arguments.length?(p=t,e):p},e.hover_in=function(t){return arguments.length?(g=t,e):g},e.hover_out=function(t){return arguments.length?(m=t,e):m},e.id=function(){return u},e.mouse_in=function(){d.style("display",null),"function"==typeof g&&g.call(d.node(),n.nodes())},e.mouse_move=function(t){var r=f(e,y,t),o=c[r];o?(d.attr("cx",v(e.x()(o))).attr("cy",b(e.y()(o))),"function"==typeof p&&p.call(d.node(),o,r,n.nodes())):e.mouse_out()},e.mouse_out=function(){d.style("display","none"),"function"==typeof m&&m.call(d.node(),n.nodes())},e.remove=function(){var t=K.indexOf(e);t!=-1&&K.splice(t,1)},e.x=function(t){return arguments.length?(r=t,e):r||q},e.x_extent=function(){return o||(o=d3.extent(c,e.x())),o},e.y=function(t){return arguments.length?(i=t,e):i||D},e.y_extent=function(){return a||(a=d3.extent(c,e.y())),a},K.push(e),e},t.legend=function(t){function e(t){t.attr("id",r).attr("text-anchor","nw"===i||"sw"===i?"start":"end"),h.each(function(e,n){t.attr(n,e)});var e=t.selectAll("g").data("sw"===i||"se"===i?o.slice().reverse():o);e.exit().remove(),e=e.enter().append("g").merge(e),e.attr("transform",function(t,e){var n,r;return n="nw"===i||"sw"===i?1+f.left:1+g-a-f.right,r="sw"===i||"se"===i?p-u-f.bottom-e*(u+c):f.top+e*(u+c),"translate("+n+","+r+")"});var n=e.selectAll("rect").data(function(t){return[t]});n=n.enter().append("rect").merge(n),n.attr("width",a).attr("height",u).attr("fill",function(t){return t.item.attr("fill")||t.item.attr("stroke")});var l=e.selectAll("text").data(function(t){return[t]});l=l.enter().append("text").merge(l),l.attr("dominant-baseline","central").attr("x","nw"===i||"sw"===i?a+s:-s).attr("y",u/2).text(function(t){return t.label})}var n,r=t||l(),o=[],i="ne",a=20,u=20,c=2,f={top:0,right:0,bottom:10,left:10},s=5,h=d3.map();return h.set("font-family","sans-serif"),h.set("font-size",10),e.attr=function(t){return 1===arguments.length?h.get(t):(2===arguments.length&&h.set(arguments[0],arguments[1]),e)},e.box_height=function(t){return arguments.length?(u=t,e):u},e.box_padding=function(t){return arguments.length?(c=t,e):c},e.box_width=function(t){return arguments.length?(a=t,e):a},e.container=function(t){return arguments.length?(n=t,e):n},e.id=function(){return r},e.item=function(t,n){if(1===arguments.length)return n=o.find(function(e){return e.label===t}),n?n.item:null;if("string"==typeof n){var r=n;n={attr:function(){return r}}}if(2===arguments.length){var i=o.findIndex(function(t){return t.item===n||r===t.item.attr()});i>-1?o[i]={label:t,item:n}:o.push({label:t,item:n})}return e},e.label_padding=function(t){return arguments.length?(s=t,e):s},e.location=function(t){return arguments.length?(i=t,e):i},e.margin=function(t){return arguments.length?(f.top=0===t.top?0:t.top||f.top,f.right=0===t.right?0:t.right||f.right,f.bottom=0===t.bottom?0:t.bottom||f.bottom,f.left=0===t.left?0:t.left||f.left,e):f},e.remove=function(t){if(arguments.length){var n=o.findIndex(function(e){return"string"==typeof t?e.label===t:e.item===t});n!==-1&&o.splice(n,1)}else{var r=Q.indexOf(e);r!=-1&&Q.splice(r,1)}},Q.push(e),e},t.domain=function(e){return arguments.length?(O=e,t):O},t.each=function(t){"function"==typeof t&&(G.forEach(t),J.forEach(t),K.forEach(t))},t.height=function(e){return arguments.length?(C=e,t):C},t.hover=function(e){return arguments.length?(B=e,t):B},t.hover_in=function(e){return arguments.length?(z=e,t):z},t.hover_out=function(e){return arguments.length?(L=e,t):L},t.id=function(){return j},t.margin=function(e){return arguments.length?(P.top=0===e.top?0:e.top||P.top,P.right=0===e.right?0:e.right||P.right,P.bottom=0===e.bottom?0:e.bottom||P.bottom,P.left=0===e.left?0:e.left||P.left,t):P},t.mouse_in=function(){var t=[].concat(G,J,K);c.call(this,t),"function"==typeof z&&z.call(I.node())},t.mouse_move=function(){var t=[].concat(G,J,K);c.call(this,t),"function"==typeof B&&B.call(I.node())},t.mouse_out=function(){var t=[].concat(G,J,K);c.call(this,t),"function"==typeof L&&L.call(I.node())},t.range=function(e){return arguments.length?(F=e,t):F},t.width=function(e){return arguments.length?(N=e,t):N},t.x=function(e){return arguments.length?(q=e,t):q},t.x_axis=function(e){return arguments.length?(m=e,t):m},t.x_grid=function(e){return arguments.length?(x=e,t):x},t.x_label=function(e){return arguments.length?(_=e,t):_},t.x_location=function(e){return arguments.length?(y=e,t):y},t.x_scale=function(e){return arguments.length?(v=e,t):v},t.y=function(e){return arguments.length?(D=e,t):D},t.y_axis=function(e){return arguments.length?(A=e,t):A},t.y_grid=function(e){return arguments.length?(w=e,t):w},t.y_label=function(e){return arguments.length?(E=e,t):E},t.y_location=function(e){return arguments.length?(k=e,t):k},t.y_scale=function(e){return arguments.length?(b=e,t):b},t}e.linker=function(){function t(){}var e=d3.map();return t.link=function(n){return e.set(n.id(),n),n.hover(t.hover).hover_in(t.hover_in).hover_out(t.hover_out),t},t.unlink=function(n){return e.remove(n.id()),n.hover(null).hover_in(null).hover_out(null),t},t.hover=function(){var t=this,n=d3.select(t).attr("id");e.each(function(e,r){if(r!==n){var o=e.hover();e.hover(null),e.mouse_move.call(t),e.hover(o)}})},t.hover_in=function(){var t=this,n=d3.select(t).attr("id");e.each(function(e,r){if(r!==n){var o=e.hover_in();e.hover_in(null),e.mouse_in.call(t),e.hover_in(o)}})},t.hover_out=function(){var t=this,n=d3.select(t).attr("id");e.each(function(e,r){if(r!==n){var o=e.hover_out();e.hover_out(null),e.mouse_out.call(t),e.hover_out(o)}})},t},t.chart=e,Object.defineProperty(t,"__esModule",{value:!0})});