!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(){function t(t){return s=P-L.left-L.right,f=j-L.top-L.bottom,t.each(function(){var t=d3.select(this).selectAll("svg").data(["chart.js"]),o=t.enter().append("svg"),a=o.append("g");a.append("g").attr("class","x axis"),a.append("g").attr("class","y axis"),a.append("g").attr("class","x axis minor"),a.append("g").attr("class","y axis minor"),t=o.merge(t).attr("width",P).attr("height",j),a=t.select("g").attr("transform","translate("+L.left+","+L.top+")"),r(),e(a),c(a,"areagroup",z),c(a,"linegroup",I),c(a,"scattergroup",N),n(a)}),t.selectAll("svg > g")}function e(t){if(h&&(h.scale(d),t.select(".x.axis").attr("transform","translate(0,"+i(p)+")").style("shape-rendering","crispEdges").call(h)),v&&(v.scale(m),t.select(".y.axis").attr("transform","translate("+u(x)+",0)").style("shape-rendering","crispEdges").call(v)),g&&"boolean"==typeof g&&(g="2,2"),_&&"boolean"==typeof _&&(_="2,2"),g){var e=t.select(".x.axis.minor").attr("transform","translate(0,"+m.range()[0]+")").style("shape-rendering","crispEdges").call(d3.axisBottom(d).tickSizeInner(-f));e.selectAll("text").style("display","none"),e.selectAll(".domain").style("display","none"),e.selectAll("line").style("stroke","#777").style("stroke-opacity",.35).style("stroke-dasharray",g)}if(_){var n=t.select(".y.axis.minor").style("shape-rendering","crispEdges").call(d3.axisLeft(m).tickSizeInner(-s));n.selectAll("text").style("display","none"),n.selectAll(".domain").style("display","none"),n.selectAll("line").style("stroke","#777").style("stroke-opacity",.35).style("stroke-dasharray",_)}if(y){var r=t.selectAll(".x.label").data([y]);r.enter().append("text").attr("class","x label").merge(r).style("font","10px sans-serif").style("text-anchor","end").attr("x",s).attr("y",i(p)-6).text(y)}if(b){var o=t.selectAll(".y.label").data([b]);o.enter().append("text").attr("class","y label").merge(o).style("font","10px sans-serif").style("text-anchor","end").attr("y",u(x)+14).attr("transform","rotate(-90)").text(b)}}function n(t){var e=t.selectAll("#m"+F).data(["mousearea"]);e.exit().remove(),e=e.enter().append("rect").attr("id","m"+F).merge(e).attr("width",s).attr("height",f).attr("stroke","none").attr("fill","none").attr("pointer-events","all");var n=[].concat(z,I,N);e.on("mouseover touchstart",function(){n.forEach(function(t){t.hover()&&t.mouse_in()}),"function"==typeof E&&E(F)}),e.on("mousemove touchmove",function(){var t=d3.mouse(this),e=d.invert(t[0]);n.forEach(function(t){t.hover()&&t.mouse_move(e)}),"function"==typeof w&&w(F,e)}),e.on("mouseout touchend touchcancel",function(){n.forEach(function(t){t.hover()&&t.mouse_out()}),"function"==typeof O&&O(F)})}function r(){d=d||d3.scaleLinear(),m=m||d3.scaleLinear(),d.range([0,s]),m.range([f,0]);var t=[].concat(z,I,N);if(A)d.domain(A);else{var e=d3.min(t,function(t){return d3.min(t.data(),t.x())}),n=d3.max(t,function(t){return d3.max(t.data(),t.x())});d.domain([e,n])}if(k)m.domain(k);else{var r=d3.min(t,function(t){return d3.min(t.data(),t.y?t.y():function(e){return d3.min([t.y0()(e),t.y1()(e)])})}),o=d3.max(t,function(t){return d3.max(t.data(),t.y?t.y():function(e){return d3.max([t.y0()(e),t.y1()(e)])})});m.domain([r,o])}}function o(t){return function(){return t}}function a(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"a"+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function i(t){if("top"===t)return m.range()[1];if("string"==typeof t){if("%"===t.slice(-1)){var e=parseFloat(t)/100;return d3.interpolateNumber(m.range()[0],m.range()[1])(e)}if("px"===t.slice(-2))return parseFloat(t)}return m(t)?m(t):m.range()[0]}function u(t){if("right"===t)return d.range()[1];if("string"==typeof t){if("%"===t.slice(-1)){var e=parseFloat(t)/100;return d3.interpolateNumber(d.range()[0],d.range()[1])(e)}if("px"===t.slice(-2))return parseFloat(t)}return d(t)?d(t):d.range()[0]}function l(){return B>=q.length&&(B=0),q[B++]}function c(t,e,n){var r=t.selectAll("g").filter("."+e).data(n,function(t){return t.id()});r.exit().remove(),r.enter().append("g").attr("class",e).merge(r).each(function(t){t(d3.select(this))})}var s,f,d,h,p,g,y,m,v,x,_,b,A,k,E,w,O,F=a(),P=760,j=500,L={top:20,right:20,bottom:20,left:30},M=function(t){return t[0]},S=function(t){return t[1]},z=[],I=[],N=[],B=0,q=["#377eb8","#e41a1c","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"];return t.area=function(t){function e(t){i=i||M,u=u||function(){return 0},c=c||S;var e=d3.area().x(function(t){return d(i(t))}).y0(function(t){return m(u(t))}).y1(function(t){return m(c(t))});if(t.attr("id",s),n=t.selectAll("path").data(function(t){return[t]}),p=t.selectAll(".hoverline").data(["hoverline"]),n=n.enter().append("path").attr("class","area").merge(n),p=p.enter().append("line").attr("class","hoverline").style("display","none").merge(p),r){var o=e.curve();e.curve(r)}n.attr("d",function(t){return e(t.data())}),o&&e.curve(o),h.each(function(t,e){n.attr(e,t)}),p.style("stroke",d3.color(h.get("fill")).darker()).style("shape-rendering","crispEdges")}var n,r,i,u,c,s=t||a(),f=[],h=d3.map();h.set("fill",l());var p,g=!1,y=d3.bisector(function(t){return e.x()(t)}).left;return e.attr=function(t){return 1===arguments.length?h.get(t):2===arguments.length?(h.set(arguments[0],arguments[1]),e):void 0},e.curve=function(t){return arguments.length?(r=t,e):r},e.data=function(t){return arguments.length?(f=t,e):f},e.hover=function(t){return arguments.length?(g=t,e):g},e.id=function(t){return s},e.mouse_in=function(){p.style("display",null)},e.mouse_move=function(t){var n=y(f,t),r=f[n-1],o=f[n],a=r&&o?t-e.x()(r)>e.x()(o)-t?o:r:r?r:o;a&&p.attr("x1",d(e.x()(a))).attr("x2",d(e.x()(a))).attr("y1",m(e.y0()(a))).attr("y2",m(e.y1()(a))),"function"==typeof g&&g({id:s,x:e.x()(a),y0:e.y0()(a),y1:e.y1()(a)})},e.mouse_out=function(){p.style("display","none")},e.remove=function(){var t=z.indexOf(e);t!=-1&&z.splice(t,1)},e.x=function(t){return arguments.length?(i=t,e):i||M},e.y0=function(t){return arguments.length?(u="function"==typeof t?t:o(+t),e):u||function(){return 0}},e.y1=function(t){return arguments.length?(c="function"==typeof t?t:o(+t),e):c||S},z.push(e),e},t.line=function(t){function e(t){o=o||M,i=i||S;var e=d3.line().x(function(t){return d(o(t))}).y(function(t){return m(i(t))});if(t.attr("id",u),n=t.selectAll("path").data(function(t){return[t]}),f=t.selectAll(".hoverdot").data(["hoverdot"]),n=n.enter().append("path").attr("class","line").merge(n),f=f.enter().append("circle").attr("class","hoverdot").style("display","none").merge(f),r){var a=e.curve();e.curve(r)}n.attr("fill","none").attr("d",function(t){return e(t.data())}),a&&e.curve(a),s.each(function(t,e){n.attr(e,t)}),f.attr("r",3).attr("fill",s.get("stroke"))}var n,r,o,i,u=t||a(),c=[],s=d3.map();s.set("stroke",l()),s.set("stroke-width",1);var f,h=!1,p=d3.bisector(function(t){return e.x()(t)}).left;return e.attr=function(t){return 1===arguments.length?s.get(t):2===arguments.length?(s.set(arguments[0],arguments[1]),e):void 0},e.curve=function(t){return arguments.length?(r=t,e):r},e.data=function(t){return arguments.length?(c=t,e):c},e.hover=function(t){return arguments.length?(h=t,e):h},e.id=function(){return u},e.mouse_in=function(){f.style("display",null)},e.mouse_move=function(t){var n=p(c,t),r=c[n-1],o=c[n],a=r&&o?t-e.x()(r)>e.x()(o)-t?o:r:r?r:o;a&&f.attr("cx",d(e.x()(a))).attr("cy",m(e.y()(a))),"function"==typeof h&&h({id:u,x:e.x()(a),y:e.y()(a)})},e.mouse_out=function(){f.style("display","none")},e.remove=function(){var t=I.indexOf(e);t!=-1&&I.splice(t,1)},e.x=function(t){return arguments.length?(o=t,e):o||M},e.y=function(t){return arguments.length?(i=t,e):i||S},I.push(e),e},t.scatter=function(t){function e(t){r=r||M,o=o||S,t.attr("id",i),n=t.selectAll(".dot").data(function(t){return t.data()}),s=t.selectAll(".hoverdot").data(["hoverdot"]),n=n.enter().append("circle").attr("class","dot").merge(n),s=s.enter().append("circle").attr("class","hoverdot").style("display","none").merge(s),n.attr("cx",function(t){return d(r(t))}).attr("cy",function(t){return m(o(t))}),c.each(function(t,e){n.attr(e,t)}),s.attr("fill",c.get("fill"))}var n,r,o,i=t||a(),u=[],c=d3.map();c.set("fill",l()),c.set("r",1);var s,f=!1,h=d3.bisector(function(t){return e.x()(t)}).left;return e.attr=function(t){return 1===arguments.length?c.get(t):2===arguments.length?(c.set(arguments[0],arguments[1]),e):void 0},e.data=function(t){return arguments.length?(u=t,e):u},e.hover=function(t){return arguments.length?(f=t,e):f},e.id=function(){return i},e.mouse_in=function(){s.style("display",null)},e.mouse_move=function(t){var n=h(u,t),r=u[n-1],o=u[n],a=r&&o?t-e.x()(r)>e.x()(o)-t?o:r:r?r:o;if(a){s.attr("cx",d(e.x()(a))).attr("cy",m(e.y()(a)));var l=c.get("r");"function"==typeof l?l=l(a)+2:l+=2,s.attr("r",l)}"function"==typeof f&&f({id:i,x:e.x()(a),y:e.y()(a)})},e.mouse_out=function(){s.style("display","none")},e.remove=function(){var t=N.indexOf(e);t!=-1&&N.splice(t,1)},e.x=function(t){return arguments.length?(r=t,e):r||M},e.y=function(t){return arguments.length?(o=t,e):o||S},N.push(e),e},t.domain=function(e){return arguments.length?(A=e,t):A},t.each=function(t){"function"==typeof t&&(z.forEach(t),I.forEach(t),N.forEach(t))},t.height=function(e){return arguments.length?(j=e,t):j},t.hover=function(e){return arguments.length?(w=e,t):w},t.id=function(){return F},t.margin=function(e){return arguments.length?(L.top=0===e.top?0:e.top||L.top,L.right=0===e.right?0:e.right||L.right,L.bottom=0===e.bottom?0:e.bottom||L.bottom,L.left=0===e.left?0:e.left||L.left,t):L},t.mouse_in=function(e){return arguments.length?(E=e,t):E},t.mouse_out=function(e){return arguments.length?(O=e,t):O},t.range=function(e){return arguments.length?(k=e,t):k},t.width=function(e){return arguments.length?(P=e,t):P},t.x=function(e){return arguments.length?(M=e,t):M},t.x_axis=function(e){return arguments.length?(h=e,t):h},t.x_grid=function(e){return arguments.length?(g=e,t):g},t.x_label=function(e){return arguments.length?(y=e,t):y},t.x_location=function(e){return arguments.length?(p=e,t):p},t.x_scale=function(e){return arguments.length?(d=e,t):d},t.y=function(e){return arguments.length?(S=e,t):S},t.y_axis=function(e){return arguments.length?(v=e,t):v},t.y_grid=function(e){return arguments.length?(_=e,t):_},t.y_label=function(e){return arguments.length?(b=e,t):b},t.y_location=function(e){return arguments.length?(x=e,t):x},t.y_scale=function(e){return arguments.length?(m=e,t):m},t}e.linker=function(){function t(){}var e={};return t.link=function(n){return e[n.id()]=n,n.hover(t.hover).mouse_out(t.mouse_out).mouse_in(t.mouse_over),t},t.unlink=function(n){return delete e[n.id()],n.hover(null).mouse_out(null).mouse_in(null),t},t.hover=function(t,n){for(var r in e)r!==t&&e.hasOwnProperty(r)&&e[r].each(function(t){t.hover()&&t.mouse_move(n)})},t.mouse_out=function(t){for(var n in e)n!==t&&e.hasOwnProperty(n)&&e[n].each(function(t){t.hover()&&t.mouse_out()})},t.mouse_over=function(t){for(var n in e)n!=t&&e.hasOwnProperty(n)&&e[n].each(function(t){t.hover()&&t.mouse_in()})},t},t.chart=e,Object.defineProperty(t,"__esModule",{value:!0})});